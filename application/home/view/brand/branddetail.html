{extend name="public/common"}

{block name="style"}
<title>品牌项目</title>
<link rel="stylesheet" href="/home/css/swiper-3.4.2.min.css">
<style>
    .serveries {position: relative;margin: 0 auto;width:100%; border-bottom: 1px solid #f1f1f1; padding-bottom: 5.33vw;}
    .serverContent {width:90%;position: relative;margin: auto;}
    .border {display: block;width:2vw;height:6vw;background: #ff7043;position: absolute;top:0;left:-5vw;border-bottom-right-radius:4px;border-top-right-radius:4px }
    .serverContent .serverTitle {font-size: 1.8rem;margin: 5.33vw  0 1.67vw 0;padding-left: 4vw;color: #333;}
    .serverContent .serverText {text-align: justify;font-size: 1.3rem;color: #999;
        line-height: 24px;
    }
    .serverContent .serverText span {
        font-family: "Microsoft yahei" !important;
        font-size: 1.8rem !important;
        line-height: 6.4vw !important;
    }
    .serverBanner {margin-top: -1vw;}
    .banner {position: relative;width:100%;height:100%;margin:2.7vw auto 0;overflow: hidden;}
    .banner .swiper-container1 {  width: 100%;  height: 100%;  }
    .banner .swiper-slide {
        text-align: center;
        font-size: 18px;
        background: #fff;
        /* Center slide text vertically */
        display: -webkit-box;
        display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;
        -webkit-box-pack: center;
        -ms-flex-pack: center;
        -webkit-justify-content: center;
        justify-content: center;
        -webkit-box-align: center;
        -ms-flex-align: center;
        -webkit-align-items: center;
        align-items: center;
    }
    .banner img {width:87.2vw;height:40vw;position: relative;border-radius: 8px;}
    .banner .swiper-pagination {width:10.7vw;height:4.8vw;line-height:4.8vw;background: #fff;right:13.33vw;left:inherit;bottom:inherit;top:4vw;border-radius: 20px;color: #ff7041;font-size: 1.2rem;box-shadow: 0 0 2px rgba(0,0,0,.2) }
    .num {position: absolute;top:0;right:0;}
    .banner .swiper-button-next , .banner .swiper-button-prev  {width:8.53vw;height:8.53vw;margin-top: -4.3vw;}
    .swiper-button-next, .swiper-container-rtl .swiper-button-prev {background-image: inherit;}
    .swiper-button-prev, .swiper-container-rtl .swiper-button-next {background-image: inherit;}
    .banner .swiper-button-next img , .banner .swiper-button-prev img {width:100%;height:100%;}
</style>
{/block}
{block name="body"}
{volist name="list" id="vo"}
<div class="serveries">
    <div class="serverContent">
        <span class="border"></span>
        <div class="serverTitle">{$vo.title}</div>
        <div class="serverText">{$vo.content}</div>
    </div>
    <div class="serverBanner">
        <div class="banner">
            <div class="swiper-container1">
                <div class="swiper-wrapper">
                    {volist name="vo.images" id='v'}
                    <div class="swiper-slide"><img src="/home/images/banner/bg.jpg" data-original="{$v|get_cover='path'}" alt=""></div>
                    {/volist}
                </div>
                <!-- Add Pagination -->
                <div class="swiper-pagination"></div>
                <div class="swiper-button-next"><img src="/home/images/feedback/right.png" alt=""></div>
                <div class="swiper-button-prev"><img src="/home/images/feedback/left.png" alt=""></div>
            </div>
        </div>
    </div>
</div>
{/volist}
{/block}


{block name="script"}
<script src="/home/js/swiper.min.js"></script>
<script>

    var swiper = new Swiper('.swiper-container1', {
        loop:true,
        pagination: {
            el: '.swiper-pagination',
            type: 'fraction'
        },
        navigation: {
            nextEl: '.swiper-button-next',
            prevEl: '.swiper-button-prev',
        },
    });

//    function lazyload() {
//        var images = document.getElementsByTagName('img');
//        var len    = images.length;
//        var n      = 0;      //存储图片加载到的位置，避免每次都从第一张图片开始遍历
//        return function() {
//            var seeHeight = document.documentElement.clientHeight;
//            var scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
//            for(var i = n; i < len; i++) {
//                if(images[i].offsetTop < seeHeight + scrollTop) {
//                    if(images[i].getAttribute('src') === 'images/loading.gif') {
//                        images[i].src = images[i].getAttribute('data-src');
//                    }
//                    n = n + 1;
//                }
//            }
//        }
//    }
//    var loadImages = lazyload();
//    loadImages();          //初始化首页的页面图片
//    window.addEventListener('scroll', loadImages, false);

</script>
{/block}